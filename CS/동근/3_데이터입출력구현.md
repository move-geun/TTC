# 소프트웨어 개발

## 데이터 입출력 구현

### 데이터 베이스 개요

#### 데이터 저장소:

`논리 데이터저장소` + `물리 데이터저장소`로 구분된다.

`논리 데이터저장소`는 데이터간의 연관성 제약조건을 식별, 논리적 구조로 조직화 한것

`물리 데이터저장소`는 하드웨어 저장장치에 저장한 것



#### 데이터 베이스:

| 정의                           | 내용                            |
| ------------------------------ | ------------------------------- |
| 통합된 데이터(Integrated Data) | 자료의 중복을 배제한 데이터     |
| 저장된 데이터(Stored Data)     | 저장된 자료                     |
| 운영 데이터(Operational Data)  | 반드시 필요한 데이터            |
| 공용 데이터(shared Data)       | 공동으로 소유하고 유지하는 자료 |



#### DBMS(데이터베이스 관리 시스템):

| 필수 기능          | 내용                                                         |
| ------------------ | ------------------------------------------------------------ |
| 정의(Definition)   | 데이터의 형(Type)과 구조에 대한 정의, 이용 방식, 제약 조건 등을 명시하는 기능 |
| 조작(Manipulation) | 사용자와 데이터베이스 사이의 인터페이스 수단을 제공하는 기능 |
| 제어(Control)      | 무결성 유지                                                  |
|                    | 권한 검사                                                    |
|                    | 병행 제어                                                    |



#### 스키마:

데이터베이스의 구조와 제약 조건에 관한 전반적 명세를 기술한 데이터 집합

|    3계층    | 내용                                                         |
| :---------: | ------------------------------------------------------------ |
| 외부 스키마 | 각 개인의 입장에서 필요로 하는 데이터베이스의 논리적 구조    |
| 개념 스키마 | 데이터 베이스의 전체적 논리적 구조로 하나만 존재<br />개체간 관계와 제약 조건, 접근 권한 등 명세를 정의 |
| 내부 스키마 | 물리적 저장장치의 입장<br />저장될 레코드의 형식을 정의, 저장 데이터 항목의 표현 법, 내부 레코드의 물리적 순서 등 명세 |



### 데이터 입출력 : 

* 단순 데이터 입출력 뿐 아니라, 데이터 조작하는 모든 행위를 하기 위해  `SQL`을 사용
* 객체와 데이터를 연결하는 것이 `데이터접속(Data Mapping)`
* SQL을 통해 작업 단위를 `트랜잭션(Transaction)`이라고 한다



#### SQL :

| 구분              | 내용                                                         |
| ----------------- | ------------------------------------------------------------ |
| 데이터정의어(DDL) | SCHEMA, DOMAIN, TAABLE, VIEW, INDEX를 정의, 변경, 삭제에 사용하는 언어 |
| 데이터조작어(DML) | 데이터를 실질적으로 처리하는데 사용하는 언어                 |
| 데이터제어어(DCL) | 데이터 보안, 무결성, 회복, 병행 수행 제어 등을 정의하는데 사용 |



#### 데이터접속 :

| 프로그래밍 코드와 DB 연결하는 것 | 내용                                                         |
| :------------------------------: | ------------------------------------------------------------ |
|           SQL MAPPING            | 프로그래밍 코드 내에 SQL을 직접 입력<br />JDBC, ODBC, MyBatis |
|               ORM                | 객체지향 프로그래밍(Object)의 객체와 관계형 DB(Relation)를 연결<br />JPA, Hibernate, Django |



#### 트랜잭션 :

| 트랜잭션 제어하기 위해 사용하는 명령어는 TCL이며 <br />종류는 다음과 같다 | 내용                                                         |
| :----------------------------------------------------------: | ------------------------------------------------------------ |
|                            COMMIT                            | 트랜잭션 처리가 정상 종료, 변경 내용을 DB에 반영하는 명령어  |
|                           ROLLBACK                           | 비정상 종료<br />트랜잭션이 행한 모든 변경 작업을 취소하고 이전 상태로 되돌리는 연산 |
|                    SAVEPOINT(=CHECKPOINT)                    | 트랜잭션 내에 ROLLBACK할 위치인 저장점을 지정하는 명령어     |



#### 절차형 SQL :

연속적인 실행이나 분기, 반복 등의 제어가 가능한 SQL을 의미,
일반적으로 효율은 떨어지지만 단일 SQL문장으로 처리하기 어려운 연속적인 작업들을 처리하는데 적합

| 절차형 SQL의 종류   | 내용                                                         |
| ------------------- | ------------------------------------------------------------ |
| 프로시저(Procedure) | 특정기능을 수행하는 트랜잭션 언어로, 호출을 통해 미리 저장해 놓은 SQL작업을 수행한다 |
| 트리거(Trigger)     | DBMS에서 데이터의 입력, 갱신, 삭제 등의 이벤트가 발생할 때마다 관련 작업이 자동으로 수행된다 |
| 사용자정의함수      | 프로시저와 유사하게 SQL을 활용. 작업을 처리하나, 종료시 Return을 사용하여 처리결과를 단일값으로 반환 |



##### 쿼리 성능 최적화:

입출력 애플리케이션의 성능 향상을 위해 SQL 코드를 최적화하는 것

* 쿼리 최적화 전에 성능 측정 도구인 `APM`을 사용하여 최적화할 쿼리를 선정해야한다.
* 최적화할 쿼리에 대해 `Optimizer`가 수립한 실행계획을 검토하고 SQL코드와 인덱스를 재구성한다.

| 이름      | 설명                                                         |
| --------- | ------------------------------------------------------------ |
| APM       | 애플리케이션의 성능 관리를 위해 다양한 모니터링 기능을 제공하는 도구 |
| Optimizer | DBMS에 내장되어 작성된 SQL이 효율적으로 수행되도록 최적의 경로를 찾아주는 모듈 |



